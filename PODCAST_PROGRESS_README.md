
# ูุธุงู ุญูุธ ุชูุฏู ุงูุจูุฏูุงุณุช (ุงููุญุงุฏุซุฉ ุงูุฅูุฌููุฒูุฉ)

## ๐ ุงููุตู
ูุธุงู ูููุตู ุชูุงูุงู ูุญูุธ ุชูุฏู ุงููุญุงุฏุซุงุช ุงูุฅูุฌููุฒูุฉ ูู ุงูุจูุฏูุงุณุชุ ูุชุฐูุฑ ุขุฎุฑ ููุถูุน ูุขุฎุฑ ููุทุฉ ุชููู.

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ

### ุฌุฏูู `podcast_progress`
```sql
- id: UUID (ุงููุนุฑู ุงููุฑูุฏ)
- user_id: UUID (ูุนุฑู ุงููุณุชุฎุฏู)
- session_id: TEXT (ูุนุฑู ุงูุฌูุณุฉ)
- last_topic: TEXT (ุขุฎุฑ ููุถูุน ุชู ุงูุชุญุฏุซ ุนูู)
- last_context: TEXT (ุขุฎุฑ ุณูุงู)
- last_position: TEXT (ุขุฎุฑ ููุทุฉ ุชููู ุชูุตูููุฉ)
- conversation_summary: TEXT (ููุฎุต ุขุฎุฑ ูุญุงุฏุซุฉ)
- topics_discussed: TEXT[] (ุงูููุงุถูุน ุงูููุงูุดุฉ)
- vocabulary_used: JSONB (ุงููููุงุช ุงููุณุชุฎุฏูุฉ)
- total_conversations: INTEGER (ุนุฏุฏ ุงููุญุงุฏุซุงุช)
- total_minutes: INTEGER (ุฅุฌูุงูู ุงูุฏูุงุฆู)
- fluency_level: TEXT (ูุณุชูู ุงูุทูุงูุฉ)
- common_mistakes: JSONB (ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ)
- improvements: JSONB (ุงูุชุญุณููุงุช ุงูููุญูุธุฉ)
- conversation_history: JSONB (ุชุงุฑูุฎ ุงููุญุงุฏุซุงุช)
```

## ๐ ููููุฉ ุชูุนูู ุงููุธุงู

### 1. ุชุดุบูู SQL ูู Supabase
```bash
# ุงูุชุญ Supabase SQL Editor
# ุงูุณุฎ ูุญุชูู podcast_progress.sql
# ููุฐู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
```

### 2. ุขููุฉ ุงูุนูู

#### ุนูุฏ ุจุฏุก ุงููุญุงุฏุซุฉ:
1. ุงููุณุชุฎุฏู ูุฏุฎู ุตูุญุฉ ุงูุจูุฏูุงุณุช
2. ุงููุธุงู ูุณุชุนูุฏ ุขุฎุฑ ุชูุฏู ูู `podcast_progress`
3. Friday ูุชุฐูุฑ ุขุฎุฑ ููุถูุน ููุณุฃู: "ุขุฎุฑ ูุฑุฉ ููุง ูุชุญุฏุซ ุนู [ุงูููุถูุน]ุ ูู ุชุฑูุฏ ุงููุชุงุจุนุฉุ"

#### ุฃุซูุงุก ุงููุญุงุฏุซุฉ:
- ุงููุธุงู ูุญูุธ ุชููุงุฆูุงู:
  - ุงูููุถูุน ุงูุญุงูู
  - ุงููููุงุช ุงูุฌุฏูุฏุฉ
  - ุงูุฃุฎุทุงุก ูุงูุชุญุณููุงุช
  - ูุฏุฉ ุงููุญุงุฏุซุฉ

#### ุนูุฏ ุงูุชูุงุก ุงููุญุงุฏุซุฉ:
- ูุชู ุญูุธ ููุฎุต ูุงูู
- ุชุญุฏูุซ ุงูุฅุญุตุงุฆูุงุช
- ุญูุธ ุขุฎุฑ ููุทุฉ ุชููู

## ๐ ูุซุงู ููุงุณุชุฎุฏุงู

### ุณููุงุฑูู 1: ูุณุชุฎุฏู ุฌุฏูุฏ
```
Friday: "Hello! This is our first English conversation. What would you like to talk about?"
User: "I want to talk about travel"
[ูุญุงุฏุซุฉ ุนู ุงูุณูุฑ...]
[ุงููุธุงู ูุญูุธ: ุงูููุถูุน = travel, ุงููููู = discussing favorite destinations]
```

### ุณููุงุฑูู 2: ูุณุชุฎุฏู ุนุงุฆุฏ
```
Friday: "Welcome back! Last time we were talking about travel, specifically your trip to Paris. Would you like to continue that conversation or start something new?"
User: "Let's continue"
Friday: "Great! You were telling me about the Eiffel Tower experience..."
```

## ๐ง ุงูุฏูุงู ุงูุฌุฏูุฏุฉ

### ูู `supabase_client.py`:
- `get_podcast_progress()`: ุฌูุจ ุงูุชูุฏู
- `create_podcast_progress()`: ุฅูุดุงุก ุณุฌู ุฌุฏูุฏ
- `update_podcast_progress()`: ุชุญุฏูุซ ุงูุชูุฏู
- `save_podcast_conversation()`: ุญูุธ ุงููุญุงุฏุซุฉ
- `get_or_create_podcast_progress()`: ุฌูุจ ุฃู ุฅูุดุงุก

### ูู `agent.py`:
- `load_podcast_progress()`: ุชุญููู ุงูุชูุฏู ุนูุฏ ุงูุจุฏุก
- `save_podcast_progress()`: ุญูุธ ุงูุชูุฏู ุฃุซูุงุก ุงููุญุงุฏุซุฉ
- `_build_podcast_memory_context()`: ุจูุงุก ุณูุงู ุงูุฐุงูุฑุฉ

## โจ ุงููููุฒุงุช

1. **ุฐุงูุฑุฉ ูุณุชูุฑุฉ**: ูุชุฐูุฑ ูู ุดูุก ุนู ุงููุญุงุฏุซุงุช ุงูุณุงุจูุฉ
2. **ุชุชุจุน ุงูุชุญุณู**: ูุณุฌู ุงูุฃุฎุทุงุก ูุงูุชุญุณููุงุช
3. **ุฅุญุตุงุฆูุงุช ุดุงููุฉ**: ุนุฏุฏ ุงููุญุงุฏุซุงุชุ ุงูุฏูุงุฆูุ ุงููุณุชูู
4. **ูููุตู ุชูุงูุงู**: ูุง ูุคุซุฑ ุนูู ุจุงูู ุฃูุธูุฉ ุงูุชุนูู

## ๐ฏ ุงููุงุฆุฏุฉ ูููุณุชุฎุฏู

- **ุงุณุชูุฑุงุฑูุฉ**: ูุง ูุถูุน ุฃู ุชูุฏู
- **ุดุฎุตูุฉ**: Friday ูุชุฐูุฑ ูู ุดูุก ุนูู
- **ุชุญุณู ููููุณ**: ุชุชุจุน ูุงุถุญ ููุชุทูุฑ
- **ุฑุงุญุฉ**: ูุง ุญุงุฌุฉ ูุฅุนุงุฏุฉ ุงูุดุฑุญ ูู ูุฑุฉ

## ๐ ููุงุญุธุงุช ูููุฉ

- ุงูุฌุฏูู ูููุตู ุชูุงูุงู ุนู `user_progress` ู `sentences_progress`
- ูุณุชุฎุฏู RLS ููุฃูุงู (ูู ูุณุชุฎุฏู ูุฑู ุจูุงูุงุชู ููุท)
- ูุญุชูุธ ุจุขุฎุฑ 20 ูุญุงุฏุซุฉ ููุท (ูุชูููุฑ ุงููุณุงุญุฉ)
- ูุถุบุท ุงูุจูุงูุงุช ุงููุฏููุฉ ุชููุงุฆูุงู

## ๐ ููุชุญูู ูู ุงูุชุดุบูู

```sql
-- ููุชุญูู ูู ูุฌูุฏ ุงูุฌุฏูู
SELECT * FROM podcast_progress WHERE user_id = 'YOUR_USER_ID';

-- ููุดุงูุฏุฉ ุขุฎุฑ ุฌูุณุฉ
SELECT last_topic, last_position, total_conversations 
FROM podcast_progress 
WHERE user_id = 'YOUR_USER_ID';
```
python -m uvicorn api:app --reload --port 8000
---
ุชู ุฅูุดุงุก ุงููุธุงู ุจูุฌุงุญ! ๐
